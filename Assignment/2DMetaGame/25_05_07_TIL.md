
# ğŸ“˜ 2D ë©”íƒ€ë²„ìŠ¤ê²Œì„ í”„ë¡œì íŠ¸ ê°œë°œ ê¸°ë¡ (StackGame í¬í•¨)

---

## âœ… ì „ì²´ ì”¬ íë¦„ êµ¬ì„±

```
TitleScene â†’ TownScene â†’ StackGame â†’ Score â†’ TownScene ë³µê·€
```

- TitleScene: Start / Exit ë²„íŠ¼ í¬í•¨
- TownScene: í¬íƒˆ(NPC)ê³¼ ìƒí˜¸ì‘ìš©ìœ¼ë¡œ StackGame ì…ì¥
- StackGame: ë¸”ë¡ ìŒ“ê¸° ê²Œì„, ê²Œì„ ì¢…ë£Œ í›„ Score UI â†’ Exit
- Exit: TownScene ë³µê·€ ë˜ëŠ” ê²Œì„ ì¢…ë£Œ (ì¢…ë£Œ NPC)

---

## ğŸ ë°œìƒí–ˆë˜ ì˜¤ë¥˜ & í•´ê²°

### 1. Collider ì¶©ëŒì´ ì•ˆ ë¨
**ë¬¸ì œ:** Colliderê°€ ë¶™ì–´ ìˆìŒì—ë„ ìƒí˜¸ì‘ìš© X

**ì›ì¸:** Collider í¬ê¸°ê°€ (0.0001, 0.0001)ë¡œ ë„ˆë¬´ ì‘ìŒ

**í•´ê²°:**
- `BoxCollider2D`ì˜ `Size`ë¥¼ ì¶©ë¶„íˆ í‚¤ì›Œì„œ ì¶©ëŒ ì˜ì—­ í™•ë³´

---

### 2. MoveBlock() í•¨ìˆ˜ì—ì„œ NullReferenceException
**ë¬¸ì œ ì½”ë“œ (TheStack.cs):**
```csharp
lastBlock.localPosition = new Vector3(...); // Null ì˜¤ë¥˜ ë°œìƒ
```

**í•´ê²° ì½”ë“œ:**
```csharp
void MoveBlock()
{
    if (lastBlock == null) return;
    ... // ì´í›„ ë¸”ë¡ ì´ë™ ë¡œì§
}
```

---

### 3. originBlock í• ë‹¹ ì•ˆ ë¨
**ë¬¸ì œ:** `TheStack.originBlock` í”„ë¦¬íŒ¹ì„ Inspectorì— ì—°ê²° ì•ˆí•¨

**ì˜¤ë¥˜ ë©”ì‹œì§€:**
```
UnassignedReferenceException: The variable originBlock of TheStack has not been assigned.
```

**í•´ê²°:**
- StackGame ì”¬ì˜ `TheStack` ì˜¤ë¸Œì íŠ¸ ì„ íƒ â†’ originBlock ìŠ¬ë¡¯ì— í”„ë¦¬íŒ¹ ë“œë˜ê·¸í•˜ì—¬ ì—°ê²°

---

### 4. Exit ë²„íŠ¼ ëˆŒëŸ¬ë„ StackGame ì”¬ì´ ì¬ì‹¤í–‰ë¨
**ë¬¸ì œ:** Exit ë²„íŠ¼ì´ í˜„ì¬ ì”¬(StackGame)ì„ ë‹¤ì‹œ ë¡œë“œí•˜ê³  ìˆì—ˆìŒ

**í•´ê²° ì½”ë“œ (UIManager.cs):**
```csharp
public void OnClickExit()
{
    SceneManager.LoadScene("TownScene");
}
```

---

### 5. Panel UIê°€ ë¿Œì˜‡ê²Œ í™”ë©´ ë®ìŒ
**ë¬¸ì œ:** TMP ì ìˆ˜íŒì˜ ë°°ê²½ íŒ¨ë„ì´ ë°˜íˆ¬ëª… í°ìƒ‰ ì´ë¯¸ì§€ë¡œ í™”ë©´ ì „ì²´ ë®ìŒ

**í•´ê²° ë°©ë²•:**
- Panelì˜ `Image` ì»´í¬ë„ŒíŠ¸ ì œê±° ë˜ëŠ”
- Color ì•ŒíŒŒê°’ì„ `A = 0`ìœ¼ë¡œ ì„¤ì •í•´ ì™„ì „ íˆ¬ëª… ì²˜ë¦¬

---

## â“ ì£¼ìš” ì§ˆë¬¸ & í•´ê²° (ì½”ë“œ í¬í•¨)

### Q. ì‹œì‘ ì”¬ì„ í•­ìƒ TitleSceneìœ¼ë¡œ ê³ ì •í•˜ë ¤ë©´?
**ë‹µ:** GameManager.csì—ì„œ ì²˜ìŒ ì”¬ì„ TitleSceneìœ¼ë¡œ í†µì œ

```csharp
public class GameManager : MonoBehaviour
{
    public static GameManager Instance;

    [SerializeField] private string startSceneName = "TitleScene";

    private void Awake()
    {
        if (Instance != null && Instance != this)
        {
            Destroy(gameObject);
            return;
        }

        Instance = this;
        DontDestroyOnLoad(gameObject);

        if (SceneManager.GetActiveScene().name != startSceneName)
        {
            SceneManager.LoadScene(startSceneName);
        }
    }
}
```

---

### Q. NPCì™€ ìƒí˜¸ì‘ìš©ìœ¼ë¡œ StackGame ì…ì¥í•˜ëŠ” ë°©ë²• ì½œë¦¬ë” 2d ì— íŠ¸ë¦¬ê±° ê¸°ëŠ¥ìœ¼ë¡œ ë‹¿ì„ë•Œ, í‚¤ë¥¼ ëˆ„ë¥´ë¼ëŠ” ë©”ì„¸ì§€ ì¶œë ¥/ í‚¤ ì…ë ¥ì‹œ ì´ë™ í‚¤ëŠ” E 

```csharp
public class StackPortal : MonoBehaviour
{
    private bool isPlayerNear = false;
    [SerializeField] private GameObject portalMessageText;

    private void Update()
    {
        if (isPlayerNear && Input.GetKeyDown(KeyCode.E))
        {
            SceneManager.LoadScene("StackGame");
        }
    }

    private void OnTriggerEnter2D(Collider2D other)
    {
        if (other.CompareTag("Player"))
        {
            isPlayerNear = true;
            portalMessageText?.SetActive(true);
        }
    }

    private void OnTriggerExit2D(Collider2D other)
    {
        if (other.CompareTag("Player"))
        {
            isPlayerNear = false;
            portalMessageText?.SetActive(false);
        }
    }
}
```

---

### Q. TMPë¡œ ë¬¸êµ¬ ë„ìš°ëŠ” ë°©ë²•ì€?

```csharp
// TMP ì˜¤ë¸Œì íŠ¸ëŠ” ì²˜ìŒì—” ë¹„í™œì„±í™” ìƒíƒœ
exitMessageText.SetActive(true); // í”Œë ˆì´ì–´ ì ‘ê·¼ ì‹œ
exitMessageText.SetActive(false); // ë²—ì–´ë‚  ë•Œ
```

---

### Q. E í‚¤ë¡œ ê²Œì„ ì¢…ë£Œí•˜ëŠ” NPCëŠ” ì…ì¥ê³¼ ë˜‘ê°™ì´ ì½œë¦¬ë” 2D íŠ¸ë¦¬ê±° ê¸°ëŠ¥ìœ¼ë¡œ í”Œë ˆì´ì–´ê°€ ë²”ìœ„ ë‚´ë¡œ ì˜¤ë©´ í™œì„±í™”/ ìº”ë²„ìŠ¤ ë©”ì„¸ì§€ ì¶œë ¥ 
```csharp
public class ExitPortal : MonoBehaviour
{
    private bool isPlayerNear = false;
    [SerializeField] private GameObject exitMessageText;

    private void Update()
    {
        if (isPlayerNear && Input.GetKeyDown(KeyCode.E))
        {
#if UNITY_EDITOR
            UnityEditor.EditorApplication.isPlaying = false;
#else
            Application.Quit();
#endif
        }
    }

    private void OnTriggerEnter2D(Collider2D other)
    {
        if (other.CompareTag("Player"))
        {
            isPlayerNear = true;
            exitMessageText?.SetActive(true);
        }
    }

    private void OnTriggerExit2D(Collider2D other)
    {
        if (other.CompareTag("Player"))
        {
            isPlayerNear = false;
            exitMessageText?.SetActive(false);
        }
    }
}
```

---

## âœ… ìµœì¢… êµ¬í˜„ëœ ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½

- StackGame ì”¬ ì…ì¥ / ì¢…ë£Œ ì²˜ë¦¬
- TMP ì•ˆë‚´ ë¬¸êµ¬ í™œì„±í™”
- TitleSceneì—ì„œ ì‹œì‘ + GameManagerë¡œ ì”¬ ê³ ì •
- StackGame ê²°ê³¼ PlayerPrefs ì €ì¥ â†’ TownScene ì ìˆ˜íŒ í‘œì‹œ
- Exit NPC â†’ E í‚¤ë¡œ ê²Œì„ ì¢…ë£Œ
